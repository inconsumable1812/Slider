"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[975],{9735:function(e,t,n){var i=n(3336),r=n.n(i),o=n(2594);r().fn.extend({JQSlider:function(e){return(0,o.U)(this[0],e)}}),document.querySelectorAll(".super-slider-here").forEach((function(e){return(0,o.U)(e)}))},2594:function(e,t,n){n.d(t,{U:function(){return Me}});var i="range-slider_vertical",r="range-slider__tooltip_hide",o="js-range-slider__scale_point",a="range-slider__tooltip_merged",s=.01,l=100;function u(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function c(e,t,n){return void 0!==t&&void 0!==n?Math.round((e-t)*l)%Math.round(n*l)/l:Math.round(e*l)/l}function p(e){return e.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())}))}function v(e,t){return""===e.trim()||isNaN(Number(e))?t:Number(e)}function f(e){return"true"===e}function h(e){return""===e.trim()||!!isNaN(Number(e))}function d(e){return"false"!==e&&"true"!==e}function g(e,t){return Object.fromEntries(Object.entries(e).filter(t))}function m(e){var t=0;return e.toString().includes(".")&&(t=e.toString().split(".").pop().length),t}var y,b={minValue:0,maxValue:100,step:1,valueStart:40,valueEnd:50,range:!1},V={scalePointCount:11,showTooltip:!0,isVertical:!1,showProgress:!1,showScale:!0},O=function(e,t,n,i){var r=c(t,i,e),o=c(Math.abs(n-i)%e),a=n-o,l=c(t),u=c(l,i,e);if(t>=n)return n;if(t<=i)return l=i,i;if(function(e,t,n){return e>t&&Math.abs(e-t)>=n/2}(l,a,o)){for(;l!==n;)l=c(c(l)+s);return l}if(function(e,t,n){return e>t&&Math.abs(e-t)<n/2}(l,a,o)){for(;u;)l=c(c(l)-s),u=c(l,i,e);return l}if(function(e,t){return e<t/2}(r,e)){for(;u;)l=c(c(l)-s),u=c(l,i,e);return l}for(;u;)l=c(c(l)+s),u=c(l,i,e);return l};function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e.check="check",e.check1="check1",e.viewChanged="viewChanged",e.modelValueChange="modelValueChange",e.clickOnTrack="clickOnTrack",e.clickOnScale="clickOnScale",e.clickOnHandle="clickOnHandle"}(y||(y={}));var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S(this,e),this.listeners=t}var t,n;return t=e,n=[{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!Array.isArray(this.listeners[e])&&(this.listeners[e].forEach((function(e){e.apply(void 0,n)})),!0)}},{key:"subscribe",value:function(e,t){var n=this;return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),function(){n.listeners[e]=n.listeners[e].filter((function(e){return e!==t}))}}}],n&&w(t.prototype,n),e}(),E=k;function x(e){var t=m(s);return m(e)>t}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}function R(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(a,e);var t,n,i,r,o=(i=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(i);if(r){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,n=arguments.length>1?arguments[1]:void 0;return j(this,a),(e=o.call(this)).options=t,e.selector=n,e.init(),e.checkOptions(),e.observeAtr(),e}return t=a,(n=[{key:"getOptions",value:function(){return C({},this.options)}},{key:"getFirstValue",value:function(){return this.options.valueStart}},{key:"getSecondValue",value:function(){return this.options.valueEnd}},{key:"setOptions",value:function(e){var t=this.options,n=t.valueEnd,i=t.valueStart,r=t.step,o=t.minValue,a=t.maxValue;this.options=C(C({},this.options),e),this.checkOptions(i,n,r,o,a),this.emit(y.modelValueChange)}},{key:"init",value:function(){var e=this.initOptionsFromDataAtr();this.options=C(C(C({},b),this.options),e)}},{key:"initOptionsFromDataAtr",value:function(){var e=g(C({},this.selector.dataset),(function(e){var t,n,i;return"minValue"===(t=(n=e,i=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0])||"maxValue"===t||"valueStart"===t||"valueEnd"===t||"step"===t||"range"===t}));return Object.keys(e).forEach((function(t){"minValue"===t&&(e[t]=v(e[t],b.minValue)),"maxValue"===t&&(e[t]=v(e[t],b.maxValue)),"valueStart"===t&&(e[t]=v(e[t],b.valueStart)),"valueEnd"===t&&(e[t]=v(e[t],b.valueEnd)),"step"===t&&(e[t]=v(e[t],b.step)),"range"===t&&(e[t]=f(e[t]))})),e}},{key:"setDataAtr",value:function(){var e=Object.keys(this.getOptions()),t=Object.values(this.getOptions()),n=this.selector;e.map((function(e){return p(e)})).forEach((function(e,i){return n.setAttribute("data-"+e,t[i].toString())}))}},{key:"observeAtr",value:function(){this.observeValueStartAtr(),this.observeValueEndAtr(),this.observeMinValueAtr(),this.observeMaxValueAtr(),this.observeStepAtr(),this.observeRangeAtr()}},{key:"observeValueStartAtr",value:function(){var e=this;new MutationObserver((function(t){var n=e.selector.dataset.valueStart,i=t[0].oldValue,r=e.getOptions().valueStart,o=v(i,r),a=v(n,r);h(n)&&e.selector.setAttribute("data-value-start",r.toString()),a!==o&&e.setOptions({valueStart:a})})).observe(this.selector,{attributes:!0,attributeOldValue:!0,attributeFilter:["data-value-start"]})}},{key:"observeValueEndAtr",value:function(){var e=this;new MutationObserver((function(t){var n=e.selector.dataset.valueEnd,i=t[0].oldValue,r=e.getOptions().valueEnd,o=v(i,r),a=v(n,r);h(n)&&e.selector.setAttribute("data-value-end",r.toString()),a!==o&&e.setOptions({valueEnd:a})})).observe(this.selector,{attributes:!0,attributeOldValue:!0,attributeFilter:["data-value-end"]})}},{key:"observeMinValueAtr",value:function(){var e=this;new MutationObserver((function(t){var n=e.selector.dataset.minValue,i=t[0].oldValue,r=e.getOptions().minValue,o=v(i,r),a=v(n,r);h(n)&&e.selector.setAttribute("data-min-value",r.toString()),a!==o&&e.setOptions({minValue:a})})).observe(this.selector,{attributes:!0,attributeOldValue:!0,attributeFilter:["data-min-value"]})}},{key:"observeMaxValueAtr",value:function(){var e=this;new MutationObserver((function(t){var n=e.selector.dataset.maxValue,i=t[0].oldValue,r=e.getOptions().maxValue,o=v(i,r),a=v(n,r);h(n)&&e.selector.setAttribute("data-max-value",r.toString()),a!==o&&e.setOptions({maxValue:a})})).observe(this.selector,{attributes:!0,attributeOldValue:!0,attributeFilter:["data-max-value"]})}},{key:"observeRangeAtr",value:function(){var e=this;new MutationObserver((function(t){var n=e.selector.dataset.range,i=t[0].oldValue,r=e.getOptions().range,o=f(i),a=f(n);d(n)&&e.selector.setAttribute("data-range",r.toString()),a!==o&&e.setOptions({range:a})})).observe(this.selector,{attributes:!0,attributeOldValue:!0,attributeFilter:["data-range"]})}},{key:"observeStepAtr",value:function(){var e=this;new MutationObserver((function(t){var n=e.selector.dataset.step,i=t[0].oldValue,r=e.getOptions().step,o=v(i,r),a=v(n,r);h(n)&&e.selector.setAttribute("data-step",r.toString()),a!==o&&e.setOptions({step:a})})).observe(this.selector,{attributes:!0,attributeOldValue:!0,attributeFilter:["data-step"]})}},{key:"checkOptions",value:function(e,t,n,i,r){this.checkStep(),this.checkMinValueLessMax(i,r),this.checkRangeLessThanStepSize(),this.checkValueStartInRange(),this.checkValueEndInRange(),this.checkValueStartCorrectStep(),this.checkValueEndCorrectStep(),this.checkValueStartLessValueEnd(e,t),this.setDataAtr()}},{key:"checkStep",value:function(){var e=this.options.step;return e<s?this.setOptions({step:s}):x(e)?this.setOptions({step:c(e)}):void 0}},{key:"checkMinValueLessMax",value:function(e,t){var n=this.options,i=n.minValue,r=n.maxValue,o=n.step;return function(e){var t=e.minValue;return t===e.maxValue&&t>e.prevMinValue}({minValue:i,maxValue:r,prevMinValue:e})?this.setOptions({maxValue:c(i)+o,minValue:c(i)}):function(e){var t=e.maxValue;return e.minValue===t&&t<e.prevMaxValue}({minValue:i,maxValue:r,prevMaxValue:t})?this.setOptions({maxValue:c(r),minValue:c(r)-o}):function(e){var t=e.minValue;return t>e.maxValue&&t>e.prevMinValue}({minValue:i,maxValue:r,prevMinValue:e})?this.setOptions({maxValue:c(i)+o,minValue:c(i)}):function(e){var t=e.maxValue;return e.minValue>t&&t<e.prevMaxValue}({minValue:i,maxValue:r,prevMaxValue:t})?this.setOptions({maxValue:c(r),minValue:c(r)-o}):i!==e?this.setOptions({minValue:c(i)}):i>=r?this.setOptions({maxValue:c(i+o),minValue:c(i)}):r!==t?this.setOptions({maxValue:c(r)}):void 0}},{key:"checkRangeLessThanStepSize",value:function(){var e=this.options,t=e.minValue,n=e.maxValue,i=e.step,r=Math.abs(n-t);if(r<i)return this.setOptions({step:r})}},{key:"checkValueStartInRange",value:function(){var e=this.options,t=e.minValue,n=e.maxValue,i=e.step,r=e.valueStart,o=e.range;return r<t?this.setOptions({valueStart:t}):r>n&&o?this.setOptions({valueStart:n-i}):r>n?this.setOptions({valueStart:n}):void 0}},{key:"checkValueEndInRange",value:function(){var e=this.options,t=e.minValue,n=e.maxValue,i=e.step,r=e.valueEnd;return r<t?this.setOptions({valueEnd:t+i,valueStart:t}):r>n?this.setOptions({valueEnd:n}):void 0}},{key:"checkValueStartLessValueEnd",value:function(e,t){var n=this.options,i=n.minValue,r=n.maxValue,o=n.step,a=n.valueEnd,s=n.valueStart,l=n.range;return function(e){var t=e.valueEnd;return e.range&&e.valueStart===t&&t===e.maxValue}({range:l,valueStart:s,valueEnd:a,maxValue:r})?this.setOptions({valueStart:s-o}):function(e){var t=e.valueStart;return e.range&&t===e.valueEnd&&t===e.minValue}({range:l,valueStart:s,valueEnd:a,minValue:i})?this.setOptions({valueEnd:a+o}):function(e){var t=e.valueStart;return e.range&&t===e.valueEnd&&t>e.prevValueStart}({range:l,valueStart:s,valueEnd:a,prevValueStart:e})?this.setOptions({valueEnd:s+o,valueStart:s}):function(e){var t=e.valueEnd;return e.range&&e.valueStart===t&&t<e.prevValueEnd}({range:l,valueStart:s,valueEnd:a,prevValueEnd:t})?this.setOptions({valueEnd:a,valueStart:a-o}):function(e){var t=e.valueStart;return e.range&&t>e.valueEnd&&t>e.prevValueStart}({range:l,valueStart:s,valueEnd:a,prevValueStart:e})?this.setOptions({valueEnd:s+o,valueStart:s}):function(e){var t=e.valueEnd;return e.range&&e.valueStart>t&&t<e.prevValueEnd}({range:l,valueStart:s,valueEnd:a,prevValueEnd:t})?this.setOptions({valueEnd:a,valueStart:a-o}):function(e){var t=e.valueStart;return t>=e.valueEnd&&t!==e.maxValue}({valueStart:s,valueEnd:a,maxValue:r})||function(e){var t=e.maxValue;return e.valueStart===t&&e.valueEnd!==t}({valueStart:s,valueEnd:a,maxValue:r})?this.setOptions({valueEnd:r}):void 0}},{key:"checkValueStartCorrectStep",value:function(){var e=this.options,t=e.minValue,n=e.step,i=e.valueStart,r=e.maxValue;if(x(i))return this.setOptions({valueStart:c(i)});if(function(e){var t=e.minValue,n=e.step,i=e.valueStart,r=e.maxValue;return Math.round(Math.abs(i-t)*l)%Math.round(n*l)&&i!==r}({minValue:t,step:n,valueStart:i,maxValue:r})){var o=O(n,i,r,t);return this.setOptions({valueStart:o})}}},{key:"checkValueEndCorrectStep",value:function(){var e=this.options,t=e.maxValue,n=e.minValue,i=e.step,r=e.valueEnd;if(x(r))return this.setOptions({valueStart:c(r)});if(function(e){var t=e.maxValue,n=e.minValue,i=e.step,r=e.valueEnd;return Math.round(Math.abs(r-n)*l)%Math.round(i*l)&&r!==t}({maxValue:t,minValue:n,step:i,valueEnd:r})){var o=O(i,r,t,n);return o===n?this.setOptions({valueEnd:c(n+i)}):this.setOptions({valueEnd:o})}}}])&&A(t.prototype,n),a}(E),F=D;function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var N=function(){function e(t){var n=t.selector,i=t.slider,r=t.model,o=t.view;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=n,this.slider=i,this.model=r,this.view=o}var t,n;return t=e,(n=[{key:"init",value:function(){this.render(),this.updateOptionsFromSlider()}},{key:"getRoot",value:function(){return this.root}},{key:"getInputs",value:function(){return this.inputs}},{key:"setOptionsFromSlider",value:function(){var e=this.slider.getOptions(),t=e.scalePointCount,n=e.showTooltip,i=e.isVertical,r=e.showProgress,o=e.showScale,a=e.minValue,s=e.maxValue,l=e.step,u=e.valueStart,c=e.valueEnd,p=e.range;this.inputs.maxValue.value=s.toString(),this.inputs.minValue.value=a.toString(),this.inputs.valueStart.value=u.toString(),this.inputs.valueEnd.value=c.toString(),this.inputs.valueEnd.disabled=!p,this.inputs.showTooltip.checked=n,this.inputs.range.checked=p,this.inputs.step.value=l.toString(),this.inputs.showScale.checked=o,this.inputs.scalePointCount.value=t.toString(),this.inputs.showProgress.checked=r,this.inputs.isVertical.checked=i,this.inputs.valueStart.setAttribute("min","".concat(a)),this.inputs.valueEnd.setAttribute("min","".concat(a)),this.inputs.valueStart.setAttribute("step","".concat(l)),this.inputs.valueEnd.setAttribute("step","".concat(l))}},{key:"render",value:function(){this.root=u('\n    <div class="panel"></div>\n    '),this.elements={maxValueEl:u('\n        <div class="panel__input-max panel__option">Max value\n        <input class="panel__input" type="number">\n        </div>\n        '),minValueEl:u('\n        <div class="panel__input-min panel__option">Min value\n        <input class="panel__input" type="number">\n        </div>\n      '),firstValueEl:u('\n        <div class="panel__value-first panel__option">First value\n        <input class="panel__input" type="number">\n        </div>\n      '),secondValueEl:u('\n        <div class="panel__value-second panel__option">Second value\n        <input class="panel__input" type="number">\n        </div>\n      '),showTooltipEL:u('\n        <div class="panel__tooltip panel__option">Show tooltip\n        <input class="panel__input" type="checkbox">\n        </div>\n      '),rangeEl:u('\n        <div class="panel__range panel__option">Range\n        <input class="panel__input" type="checkbox">\n        </div>\n      '),stepEl:u('\n      <div class="panel__step panel__option">Step\n      <input class="panel__input" type="number" >\n      </div>\n      '),showScaleEl:u('\n        <div class="panel__scale-show panel__option">Show scale\n        <input class="panel__input" type="checkbox">\n        </div>\n      '),scalePointEl:u('\n        <div class="panel__scale-point panel__option">Scale point\n        <input class="panel__input" type="number" >\n        </div>\n      '),progressEl:u('\n        <div class="panel__progress panel__option">Show progress\n        <input class="panel__input" type="checkbox">\n        </div>\n      '),verticalEl:u('\n        <div class="panel__vertical panel__option">Is vertical\n        <input class="panel__input" type="checkbox">\n        </div>\n        ')};var e=this.elements,t=e.maxValueEl,n=e.minValueEl,i=e.firstValueEl,r=e.secondValueEl,o=e.showTooltipEL,a=e.rangeEl,s=e.stepEl,l=e.showScaleEl,c=e.scalePointEl,p=e.progressEl,v=e.verticalEl;this.root.append(t),this.root.append(n),this.root.append(i),this.root.append(r),this.root.append(o),this.root.append(a),this.root.append(s),this.root.append(l),this.root.append(c),this.root.append(p),this.root.append(v),this.selector.append(this.root),this.inputs={maxValue:t.querySelector("input"),minValue:n.querySelector("input"),valueStart:i.querySelector("input"),valueEnd:r.querySelector("input"),showTooltip:o.querySelector("input"),range:a.querySelector("input"),step:s.querySelector("input"),showScale:l.querySelector("input"),scalePointCount:c.querySelector("input"),showProgress:p.querySelector("input"),isVertical:v.querySelector("input")},this.addListeners(),this.setOptionsFromSlider()}},{key:"updateOptionsFromSlider",value:function(){this.model.subscribe(y.modelValueChange,this.setOptionsFromSlider.bind(this)),this.view.subscribe(y.viewChanged,this.setOptionsFromSlider.bind(this))}},{key:"getMaxValue",value:function(){var e=this.inputs.maxValue;return{maxValue:""===e.value?void 0:Number(e.value)}}},{key:"getMinValue",value:function(){var e=this.inputs.minValue;return{minValue:""===e.value?void 0:Number(e.value)}}},{key:"getValueStart",value:function(){var e=this.inputs.valueStart;return{valueStart:""===e.value?void 0:Number(e.value)}}},{key:"getValueEnd",value:function(){var e=this.inputs.valueEnd;return{valueEnd:""===e.value?void 0:Number(e.value)}}},{key:"getStep",value:function(){var e=this.inputs.step;return{step:""===e.value?void 0:Number(e.value)}}},{key:"getScaleCount",value:function(){var e=this.inputs.scalePointCount;return{scalePointCount:""===e.value?void 0:Number(e.value)}}},{key:"getRange",value:function(){return{range:this.inputs.range.checked}}},{key:"getProgress",value:function(){return{showProgress:this.inputs.showProgress.checked}}},{key:"getTooltip",value:function(){return{showTooltip:this.inputs.showTooltip.checked}}},{key:"getScale",value:function(){return{showScale:this.inputs.showScale.checked}}},{key:"getVertical",value:function(){return{isVertical:this.inputs.isVertical.checked}}},{key:"addListeners",value:function(){var e=this;this.inputs.maxValue.addEventListener("change",(function(){var t=e.getMaxValue().maxValue,n=e.getMinValue().minValue,i=e.getStep().step,r=void 0===t||void 0===n||void 0===i,o=e.slider.getOptions().maxValue,a=r?{maxValue:o}:e.getMaxValue();e.slider.setOptions(a)})),this.inputs.maxValue.addEventListener("blur",(function(){""===e.inputs.maxValue.value&&(e.inputs.maxValue.value=e.slider.getOptions().maxValue.toString())})),this.inputs.minValue.addEventListener("change",(function(){var t=void 0===e.getMinValue().minValue,n=e.slider.getOptions().minValue,i=t?{minValue:n}:e.getMinValue();e.slider.setOptions(i);var r=e.slider.getOptions().minValue;e.inputs.valueStart.setAttribute("min","".concat(r)),e.inputs.valueEnd.setAttribute("min","".concat(r))})),this.inputs.minValue.addEventListener("blur",(function(){""===e.inputs.minValue.value&&(e.inputs.minValue.value=e.slider.getOptions().minValue.toString())})),this.inputs.valueStart.addEventListener("change",(function(){var t=e.getMaxValue().maxValue,n=e.getValueStart().valueStart,i=e.getValueEnd().valueEnd,r=void 0===t||void 0===n||void 0===i,o=e.slider.getOptions().valueStart,a=r?{valueStart:o}:e.getValueStart();e.slider.setOptions(a)})),this.inputs.valueStart.addEventListener("blur",(function(){""===e.inputs.valueStart.value&&(e.inputs.valueStart.value=e.slider.getOptions().valueStart.toString())})),this.inputs.valueEnd.addEventListener("change",(function(){var t=e.getValueEnd().valueEnd,n=e.getValueStart().valueStart,i=e.slider.getOptions().valueEnd,r=void 0===t||void 0===n,o=e.getValueEnd();o=r?{valueEnd:i}:e.getValueEnd(),e.slider.setOptions(o)})),this.inputs.valueEnd.addEventListener("blur",(function(){""===e.inputs.valueEnd.value&&(e.inputs.valueEnd.value=e.slider.getOptions().valueEnd.toString())})),this.inputs.step.addEventListener("change",(function(){var t=e.slider.getOptions().step,n=e.getStep().step,i=e.getMaxValue().maxValue,r=e.getMinValue().minValue,o=void 0===i||void 0===r||void 0===n?{step:t}:e.getStep();e.slider.setOptions(o);var a=e.slider.getOptions().step;e.inputs.valueStart.setAttribute("step","".concat(a)),e.inputs.valueEnd.setAttribute("step","".concat(a))})),this.inputs.step.addEventListener("blur",(function(){""===e.inputs.step.value&&(e.inputs.step.value=e.slider.getOptions().step.toString())})),this.inputs.scalePointCount.addEventListener("change",(function(){var t=e.getScaleCount().scalePointCount,n=e.slider.getOptions().scalePointCount,i=void 0===t?{scalePointCount:n}:e.getScaleCount();e.slider.setOptions(i)})),this.inputs.scalePointCount.addEventListener("blur",(function(){""===e.inputs.scalePointCount.value&&(e.inputs.scalePointCount.value=e.slider.getOptions().scalePointCount.toString())})),this.inputs.range.addEventListener("change",(function(){e.slider.setOptions(e.getRange()),e.inputs.valueEnd.disabled=!e.getRange().range})),this.inputs.showProgress.addEventListener("change",(function(){e.slider.setOptions(e.getProgress())})),this.inputs.showTooltip.addEventListener("change",(function(){e.slider.setOptions(e.getTooltip())})),this.inputs.showScale.addEventListener("change",(function(){e.slider.setOptions(e.getScale())})),this.inputs.isVertical.addEventListener("change",(function(){e.slider.setOptions(e.getVertical())}))}}])&&I(t.prototype,n),e}();function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var q=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t,this.view=n,this.render()}var t,n;return t=e,(n=[{key:"getModelOptions",value:function(){return this.model.getOptions()}},{key:"setModelOptions",value:function(e){this.model.setOptions(e)}},{key:"updateView",value:function(){this.view.changeModelOptions(this.getModelOptions()),this.view.updateView()}},{key:"render",value:function(){this.view.render(),this.connect()}},{key:"connect",value:function(){this.view.subscribe(y.viewChanged,this.setModelOptions.bind(this)),this.model.subscribe(y.modelValueChange,this.updateView.bind(this))}}])&&B(t.prototype,n),e}();function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function U(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function X(e,t){return X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},X(e,t)}function Z(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(s,e);var t,n,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$(i);if(o){var n=$(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Z(this,e)});function s(e){var t,n=e.handleNumber,i=e.value,r=e.showTooltip,o=e.isVertical,l=e.track,u=e.step;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).handleNumber=n,t.value=i,t.showTooltip=r,t.isVertical=o,t.track=l,t.step=u,t.toHtml(),t}return t=s,(n=[{key:"handleMouseDown",value:function(e){var t=this;e.preventDefault();var n=function(e){return t.handleMouseMove(e)};document.addEventListener("pointermove",n),document.addEventListener("pointerup",(function e(){document.removeEventListener("pointerup",e),document.removeEventListener("pointermove",n)}))}},{key:"showTooltipMethod",value:function(){this.elements.tooltip.classList.remove(r)}},{key:"updateStep",value:function(e){this.step=e}},{key:"hideTooltip",value:function(){this.elements.tooltip.classList.add(r)}},{key:"getElement",value:function(){return this.elements.handle}},{key:"getTooltip",value:function(){return this.elements.tooltip}},{key:"getValue",value:function(){return+this.value}},{key:"getStyleValue",value:function(){return this.isVertical?+this.elements.handle.style.top.slice(0,-1):+this.elements.handle.style.left.slice(0,-1)}},{key:"setValue",value:function(e){var t;this.getValue()!==e&&(this.value=e,null!==(t=this.getTooltipContent())&&void 0!==t&&t.includes("...")||this.setTooltipContent())}},{key:"setZIndex",value:function(e){e>=97?this.elements.handle.style.zIndex="2":"2"===this.elements.handle.style.zIndex&&(this.elements.handle.style.zIndex="1")}},{key:"getTooltipContent",value:function(){return this.elements.tooltip.textContent}},{key:"clearTooltipContent",value:function(){this.elements.tooltip.textContent=""}},{key:"hideTooltipContent",value:function(){this.elements.tooltip.classList.add(r)}},{key:"getRectangleTooltip",value:function(){return this.elements.tooltip.getBoundingClientRect()}},{key:"setTooltipContent",value:function(e){e?this.getTooltipContent()!==e&&(this.clearTooltipContent(),this.elements.tooltip.textContent=e):this.elements.tooltip.textContent=this.getValue().toString()}},{key:"setStyle",value:function(e){this.isVertical?this.elements.handle.style.top=e+"%":this.elements.handle.style.left=e+"%",1===this.handleNumber&&this.setZIndex(this.getStyleValue())}},{key:"clearStyle",value:function(){this.isVertical?this.elements.handle.style.left="-4.5px":this.elements.handle.style.top="-4.5px"}},{key:"setOrientation",value:function(e){this.isVertical=e}},{key:"toHtml",value:function(){this.element=u('\n    <div class="range-slider__handle range-slider__handle_num_'.concat(this.handleNumber,'">\n      <div class="range-slider__tooltip js-range-slider__tooltip">').concat(this.value,"</div>\n    </div>")),this.elements={handle:this.element,tooltip:this.element.querySelector(".js-range-slider__tooltip")},this.showTooltip||this.hideTooltip(),this.bindListenersToHandle(this.element)}},{key:"bindListenersToHandle",value:function(e){var t=this;e.addEventListener("pointerdown",(function(e){return t.handleMouseDown(e)}))}},{key:"handleMouseMove",value:function(e){var t=this.track,n=this.isVertical,i=(n?e.clientY-t.element.getBoundingClientRect().top:e.clientX-t.element.getBoundingClientRect().left)/(n?t.element.getBoundingClientRect().height:t.element.getBoundingClientRect().width),r=Math.round(1e4*i)/1e4,o=Math.abs(t.getMaxValue()-t.getMinValue())*r,a=c(c(t.getMinValue())+c(o));i<=0?a=t.getMinValue():i>=1&&(a=t.getMaxValue()),this.emit(y.clickOnHandle,c(a))}}])&&U(t.prototype,n),s}(E);function Q(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isVertical=t,this.toHtml()}var t,n;return t=e,(n=[{key:"setStart",value:function(e){this.element.style.left="0%",this.element.style.top="0%",this.isVertical?this.element.style.top=e+"%":this.element.style.left=e+"%"}},{key:"setEnd",value:function(e){this.element.style.bottom="0%",this.element.style.right="0%",this.isVertical?this.element.style.bottom=100-e+"%":this.element.style.right=100-e+"%"}},{key:"setStyle",value:function(e,t){this.setStart(e),this.setEnd(t)}},{key:"setOrientation",value:function(e){this.isVertical=e}},{key:"toHtml",value:function(){this.element=u('\n    <div class="range-slider__progress"></div>\n    ')}}])&&Q(t.prototype,n),e}();function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function G(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function K(e,t){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(e,t)}function ee(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(s,e);var t,n,i,r,a=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=te(i);if(r){var n=te(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ee(this,e)});function s(e){var t,n=e.minValue,i=e.maxValue,r=e.scalePointCount,o=e.step,l=e.isVertical;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).minValue=n,t.maxValue=i,t.scalePointCount=r,t.step=o,t.isVertical=l,t.init(),t}return t=s,(n=[{key:"deleteScalePoint",value:function(){this.element.querySelectorAll(".".concat(o)).forEach((function(e){return e.remove()}))}},{key:"getArrayOfValue",value:function(){return this.calculateStepValue()[0]}},{key:"getSubElement",value:function(){return this.subElement}},{key:"setOrientation",value:function(e){this.isVertical=e}},{key:"setScaleOptions",value:function(e,t,n,i){this.maxValue=e,this.minValue=t,this.step=n,this.scalePointCount=i,this.deleteScalePoint(),this.renderScalePoint()}},{key:"init",value:function(){var e=this;this.toHtml(),this.renderScalePoint(),this.element.addEventListener("click",(function(t){var n=t.target;e.emit(y.clickOnScale,+n.textContent)}))}},{key:"toHtml",value:function(){this.element=u('\n    <div class="range-slider__scale"></div>\n    ')}},{key:"renderScalePoint",value:function(){var e=this,t=this.isVertical,n=this.calculateStepValue(),i=n[0],r=n[1],a=t?"top":"left";i.forEach((function(t,n){e.subElement=u('\n      <div class="range-slider__scale_point '.concat(o,'">').concat(t,"</div>\n      ")),e.subElement.style[a]=r[n]+"%",n===i.length-1&&e.subElement.classList.add("range-slider__scale_point-end"),e.element.append(e.subElement)}))}},{key:"calculateStepValue",value:function(){var e=this.minValue,t=this.maxValue,n=this.step,i=this.scalePointCount,r=Math.abs(t-e),o=Math.floor(r/n)>i?Math.round(Math.round(r/n)/(i-1))*n:n,a=i;return a<2&&(a=2),[new Array(a).fill("").map((function(n,i){var r=e+o*i;return r>t&&(r=t),i===a-1&&(r=t),c(r)})).filter((function(e,t,n){return!t||e!==n[t-1]})),new Array(a).fill("").map((function(e,t){var n=Math.abs(o/r)*t*100;return n>100&&(n=100),t===a-1&&(n=100),c(n)})).filter((function(e,t,n){return!t||e!==n[t-1]}))]}}])&&G(t.prototype,n),s}(E);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function re(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function oe(e,t){return oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oe(e,t)}function ae(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(a,e);var t,n,i,r,o=(i=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=se(i);if(r){var n=se(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ae(this,e)});function a(e){var t,n=e.minValue,i=e.maxValue,r=e.isVertical,s=e.step;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this)).minValue=n,t.maxValue=i,t.isVertical=r,t.step=s,t.toHtml(),t}return t=a,(n=[{key:"getMinValue",value:function(){return this.minValue}},{key:"getMaxValue",value:function(){return this.maxValue}},{key:"getStep",value:function(){return this.step}},{key:"getOrientation",value:function(){return this.isVertical}},{key:"setMaxMinValueAndStep",value:function(e,t,n){this.maxValue=e,this.minValue=t,this.step=n}},{key:"setOrientation",value:function(e){this.isVertical=e}},{key:"toHtml",value:function(){var e=this;this.element=u('<div class="range-slider__track"></div>'),this.element.addEventListener("pointerdown",(function(t){t.preventDefault();var n=t.target,i=e.minValue,r=e.maxValue,o=e.isVertical,a=e.step,s=o?n.getBoundingClientRect().height:n.getBoundingClientRect().width,l=getComputedStyle(n).borderWidth,u=Math.round(+l.slice(0,-2)),c=(o?t.offsetY+u:t.offsetX+u)/s,p=O(a,(r-i)*c+i,r,i);e.emit(y.clickOnTrack,{event:t,value:p,click:c})}))}}])&&re(t.prototype,n),a}(E);function ue(e){var t=e.firstHandle,n=e.secondHandle,i=e.clickValue,r=t.getValue(),o=n.getValue();return Math.abs(r-i)<=Math.abs(o-i)?t:n}function ce(e){var t=e.minValue;return 100/(e.maxValue-t)*(e.progress-t)}function pe(e,t){return e&&t}function ve(e,t){return!e&&t}function fe(e){var t=e.firstHandle,n=e.closestHandle,i=e.range,r=e.showProgress;return i&&r&&n===t}function he(e){var t=e.secondHandle,n=e.closestHandle,i=e.range,r=e.showProgress;return i&&r&&n===t}function de(e){var t=e.newValue,n=e.firstHandle,i=e.step;return t<=c(n.getValue()+i)}function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Se(e,t){return Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Se(e,t)}function we(e,t){if(t&&("object"===ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(l,e);var t,n,r,o,s=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ke(r);if(o){var n=ke(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return we(this,e)});function l(e){var t,n=e.selector,i=e.modelOptions,r=e.viewOptions,o=void 0===r?V:r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this)).selector=n,t.modelOptions=i,t.viewOptions=o,t.initViewOptions(),t.checkScalePointCount(),t.observeAtr(),t}return t=l,(n=[{key:"setOptions",value:function(e){this.viewOptions=be(be({},this.viewOptions),e),this.checkScalePointCount(),this.setDataAtr(),this.emit(y.viewChanged,this.viewOptions)}},{key:"changeModelOptions",value:function(e){this.modelOptions=be(be({},this.modelOptions),e)}},{key:"updateView",value:function(){var e=this.modelOptions,t=e.minValue,n=e.maxValue,r=e.step,o=e.valueStart,a=e.valueEnd,s=e.range,l=this.viewOptions,u=l.scalePointCount,c=l.showTooltip,p=l.isVertical,v=l.showProgress,f=l.showScale,h=this.components,d=h.track,g=h.firstHandle,m=h.progress,y=h.secondHandle,b=h.scale;g.setValue(o),g.setStyle(ce({minValue:t,maxValue:n,progress:o})),v?(d.element.append(m.element),m.setOrientation(p)):m.element.remove(),f?(b.setOrientation(p),b.setScaleOptions(n,t,r,u)):b.deleteScalePoint(),this.mergeTooltip(),s?(this.root.append(y.element),y.setValue(a),y.setStyle(ce({minValue:t,maxValue:n,progress:a}))):y.element.remove(),function(e,t){return!e&&t.getTooltipContent().includes("...")}(s,g)&&g.setTooltipContent(),pe(s,v)&&m.setStyle(ce({minValue:t,maxValue:n,progress:o}),ce({minValue:t,maxValue:n,progress:a})),ve(s,v)&&m.setStyle(0,ce({minValue:t,maxValue:n,progress:o})),c?g.showTooltipMethod():g.hideTooltip(),function(e,t){return e&&t}(c,s)&&y.showTooltipMethod(),function(e,t){return!e&&t}(c,s)&&y.hideTooltip(),d.setMaxMinValueAndStep(n,t,r),g.updateStep(r),y.updateStep(r);var V=ce({minValue:d.getMinValue(),maxValue:d.getMaxValue(),progress:o});if(s){var O=ce({minValue:d.getMinValue(),maxValue:d.getMaxValue(),progress:a});y.setOrientation(p),y.clearStyle(),y.setStyle(O),this.mergeTooltip()}d.setOrientation(p),g.setOrientation(p),g.clearStyle(),g.setStyle(V),v&&m.setOrientation(p),p?this.root.classList.add(i):this.root.classList.remove(i)}},{key:"getModel",value:function(){return be({},this.modelOptions)}},{key:"getOptions",value:function(){return be({},this.viewOptions)}},{key:"getComponents",value:function(){return this.components}},{key:"render",value:function(){var e=this,t=this.modelOptions,n=t.minValue,r=t.maxValue,o=t.step,a=t.valueStart,s=t.valueEnd,l=t.range,c=this.viewOptions,p=c.isVertical,v=c.showTooltip,f=c.showProgress,h=c.showScale,d=c.scalePointCount,g=p?i:"";this.root=u('\n    <div class="range-slider '.concat(g,'">\n    '));var m=new le({minValue:n,maxValue:r,isVertical:p,step:o});this.components={track:m,firstHandle:new J({handleNumber:1,value:a,showTooltip:v,isVertical:p,track:m,step:o}),secondHandle:new J({handleNumber:2,value:s,showTooltip:v,isVertical:p,track:m,step:o}),progress:new Y(p),scale:new ne({minValue:n,maxValue:r,scalePointCount:d,step:o,isVertical:p})};var y=this.components,b=y.track,V=y.firstHandle,O=y.secondHandle,S=y.scale,w=y.progress;f&&b.element.append(w.element),this.root.append(b.element),this.root.append(V.element),l&&this.root.append(O.element),h&&this.root.append(S.element);var k=ce({minValue:b.getMinValue(),maxValue:b.getMaxValue(),progress:a}),E=ce({minValue:b.getMinValue(),maxValue:b.getMaxValue(),progress:s});V.setStyle(k),l&&O.setStyle(E),pe(l,f)&&w.setStyle(k,E),ve(l,f)&&w.setStyle(0,k),this.selector.append(this.root),this.bindEventListeners(),setTimeout((function(){l&&e.mergeTooltip()}),80)}},{key:"initViewOptions",value:function(){var e=this.initOptionsFromDataAtr();this.viewOptions=be(be(be({},V),this.viewOptions),e),this.setDataAtr()}},{key:"checkScalePointCount",value:function(){var e=this.viewOptions.scalePointCount;return e<2?this.setOptions({scalePointCount:2}):e>20?this.setOptions({scalePointCount:20}):void 0}},{key:"bindEventListeners",value:function(){this.clickOnTrack(),this.clickOnHandle(),this.clickOnScale()}},{key:"mergeTooltip",value:function(){var e,t=this.components,n=t.firstHandle,i=t.secondHandle,r=this.getOptions().isVertical;if(function(e,t){return!e&&t.getTooltip().classList.contains(a)}(this.getModel().range,n))n.getTooltip().classList.remove(a);else{var o=n.getValue(),s=null==i?void 0:i.getValue();(r?n.getRectangleTooltip().bottom:n.getRectangleTooltip().right)>=(r?i.getRectangleTooltip().top:i.getRectangleTooltip().left)?(n.setTooltipContent("".concat(o,"...").concat(s)),n.getTooltip().classList.add(a),i.clearTooltipContent(),i.hideTooltipContent()):null!==(e=n.getTooltipContent())&&void 0!==e&&e.includes("...")&&(n.setTooltipContent(),n.getTooltip().classList.remove(a),null==i||i.setTooltipContent())}}},{key:"clickOnHandle",value:function(){var e=this,t=this.components,n=t.track,i=t.progress,r=t.firstHandle,o=t.secondHandle,a=function(t,a){var s=e.getModel().range,l=e.viewOptions.showProgress,u=ce({minValue:n.getMinValue(),maxValue:n.getMaxValue(),progress:t});s?(function(e){var t=e.handle,n=e.newValue,i=e.firstHandle,r=e.secondHandle;return t===r?n>i.getValue():t===i&&n<r.getValue()}({handle:a,newValue:t,firstHandle:r,secondHandle:o})&&(a.setValue(t),a.setStyle(u)),e.mergeTooltip()):(a.setValue(t),a.setStyle(u)),ve(s,l)&&(i.setStart(0),i.setEnd(u)),a===r?e.emit(y.viewChanged,{valueStart:a.getValue()}):a===o&&e.emit(y.viewChanged,{valueEnd:a.getValue()})},s=1,l=function e(){s=1,document.removeEventListener("pointerup",e)};r.getTooltip().addEventListener("pointerdown",(function(t){var n;if(e.getModel().range)if(null!==(n=r.getTooltipContent())&&void 0!==n&&n.includes("...")){var i=r.getTooltipContent(),o=i.length-3,a=o-i.indexOf("..."),u=r.getRectangleTooltip(),c=u.width,p=a/o,v=t.pageX-u.x;1!=(s=v/c>p?2:1)&&document.addEventListener("pointerup",l)}else s=1;else s=1})),r.subscribe(y.clickOnHandle,(function(t){var n=e.getModel(),i=n.step,l=n.range,u=n.valueEnd,p=n.valueStart;if(1===s){if(function(e){var t=e.step,n=e.range;return e.newValue>=c(e.secondHandle.getValue()-t)&&n}({newValue:t,secondHandle:o,step:i,range:l}))return void a(c(u-i),r);a(t,r)}else if(2===s){if(de({newValue:t,firstHandle:r,step:i}))return void a(c(p+i),o);a(t,o)}})),o.subscribe(y.clickOnHandle,(function(t){var n=e.getModel(),i=n.step,s=n.valueStart;de({newValue:t,firstHandle:r,step:i})?a(c(s+i),o):a(t,o)}))}},{key:"clickOnScale",value:function(){var e=this,t=this.components,n=t.track,i=t.progress,r=t.firstHandle,o=t.secondHandle;t.scale.subscribe(y.clickOnScale,(function(t){var a=e.modelOptions.range,s=e.viewOptions.showProgress,l=r;a&&(e.mergeTooltip(),l=ue({firstHandle:r,secondHandle:o,clickValue:t})),l.setValue(t);var u=ce({minValue:n.getMinValue(),maxValue:n.getMaxValue(),progress:t});l.setStyle(u),fe({firstHandle:r,closestHandle:l,range:a,showProgress:s})&&i.setStart(u),he({secondHandle:o,closestHandle:l,range:a,showProgress:s})&&i.setEnd(u),ve(a,s)&&(i.setStart(0),i.setEnd(u)),l===r?e.emit(y.viewChanged,{valueStart:l.getValue()}):l===o&&e.emit(y.viewChanged,{valueEnd:l.getValue()})}))}},{key:"clickOnTrack",value:function(){var e=this,t=this.components,n=t.track,i=t.firstHandle,r=t.secondHandle,o=t.progress;n.subscribe(y.clickOnTrack,(function(t){var a=t.event,s=t.value,l=t.click,u=e.viewOptions.showProgress,c=e.modelOptions.range,p=i,v=ce({minValue:n.getMinValue(),maxValue:n.getMaxValue(),progress:s});c&&(p=ue({firstHandle:i,secondHandle:r,clickValue:s}),e.mergeTooltip(),function(e){var t=e.click,n=e.styleValue,i=e.firstHandle,r=e.secondHandle;return t>n/100&&i.getStyleValue()<n&&Math.abs(i.getStyleValue()/100-t)>Math.abs(r.getStyleValue()/100-t)}({click:l,styleValue:v,firstHandle:i,secondHandle:r})&&(p=r)),p.setValue(s),p.setStyle(v),fe({firstHandle:i,closestHandle:p,range:c,showProgress:u})&&o.setStart(v),he({secondHandle:r,closestHandle:p,range:c,showProgress:u})&&o.setEnd(v),ve(c,u)&&(o.setStart(0),o.setEnd(v)),p===i?e.emit(y.viewChanged,{valueStart:p.getValue()}):p===r&&e.emit(y.viewChanged,{valueEnd:p.getValue()}),p.handleMouseDown(a)}))}},{key:"setDataAtr",value:function(){var e=Object.keys(this.getOptions()),t=Object.values(this.getOptions()),n=this.selector;e.map((function(e){return p(e)})).forEach((function(e,i){return n.setAttribute("data-"+e,t[i].toString())}))}},{key:"observeAtr",value:function(){this.observeScalePointCountAtr(),this.observeShowTooltipAtr(),this.observeIsVerticalAtr(),this.observeShowProgressAtr(),this.observeShowScaleAtr()}},{key:"observeScalePointCountAtr",value:function(){var e=this;new MutationObserver((function(t){var n=e.selector.dataset.scalePointCount,i=t[0].oldValue,r=e.getOptions().scalePointCount,o=v(i,r),a=v(n,r);h(n)&&e.selector.setAttribute("data-scale-point-count",r.toString()),a!==o&&e.setOptions({scalePointCount:a})})).observe(this.selector,{attributes:!0,attributeOldValue:!0,attributeFilter:["data-scale-point-count"]})}},{key:"observeShowTooltipAtr",value:function(){var e=this;new MutationObserver((function(t){var n=e.selector.dataset.showTooltip,i=t[0].oldValue,r=e.getOptions().showTooltip,o=f(i),a=f(n);d(n)&&e.selector.setAttribute("data-show-tooltip",r.toString()),a!==o&&e.setOptions({showTooltip:a})})).observe(this.selector,{attributes:!0,attributeOldValue:!0,attributeFilter:["data-show-tooltip"]})}},{key:"observeIsVerticalAtr",value:function(){var e=this;new MutationObserver((function(t){var n=e.selector.dataset.isVertical,i=t[0].oldValue,r=e.getOptions().isVertical,o=f(i),a=f(n);d(n)&&e.selector.setAttribute("data-is-vertical",r.toString()),a!==o&&e.setOptions({isVertical:a})})).observe(this.selector,{attributes:!0,attributeOldValue:!0,attributeFilter:["data-is-vertical"]})}},{key:"observeShowProgressAtr",value:function(){var e=this;new MutationObserver((function(t){var n=e.selector.dataset.showProgress,i=t[0].oldValue,r=e.getOptions().showProgress,o=f(i),a=f(n);d(n)&&e.selector.setAttribute("data-show-progress",r.toString()),a!==o&&e.setOptions({showProgress:a})})).observe(this.selector,{attributes:!0,attributeOldValue:!0,attributeFilter:["data-show-progress"]})}},{key:"observeShowScaleAtr",value:function(){var e=this;new MutationObserver((function(t){var n=e.selector.dataset.showScale,i=t[0].oldValue,r=e.getOptions().showScale,o=f(i),a=f(n);d(n)&&e.selector.setAttribute("data-show-scale",r.toString()),a!==o&&e.setOptions({showScale:a})})).observe(this.selector,{attributes:!0,attributeOldValue:!0,attributeFilter:["data-show-scale"]})}},{key:"initOptionsFromDataAtr",value:function(){var e=g(be({},this.selector.dataset),(function(e){var t,n,i;return"scalePointCount"===(t=(n=e,i=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0])||"showTooltip"===t||"isVertical"===t||"showProgress"===t||"showScale"===t}));return Object.keys(e).forEach((function(t){"scalePointCount"===t&&(e[t]=v(e[t],V.scalePointCount)),"showTooltip"===t&&(e[t]=f(e[t])),"isVertical"===t&&(e[t]=f(e[t])),"showProgress"===t&&(e[t]=f(e[t])),"showScale"===t&&(e[t]=f(e[t]))})),e}}])&&Oe(t.prototype,n),l}(E);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(e,t){return Object.keys(t).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}var i,r=n(t,b),o=n(t,V),a=new F(r,e),s=a.getOptions(),l=new Ee({selector:e,modelOptions:s,viewOptions:o}),u=(new q(a,l),{getContainer:function(){return e},getViewRoot:function(){return l.root},getOptions:function(){var e=a.getOptions(),t=l.getOptions();return _e(_e({},e),t)},getModel:function(){return a},getView:function(){return l},setDataAtr:function(){var e=Object.keys(this.getOptions()),t=Object.values(this.getOptions()),n=this.getContainer();e.map((function(e){return p(e)})).forEach((function(e,i){return n.setAttribute("data-"+e,t[i].toString())}))},setOptions:function(e){var t=n(e,b),r=n(e,V);t&&a.setOptions(t),l.setOptions(r),i&&i.setOptionsFromSlider(),this.setDataAtr()},getFirstValue:function(){return a.getFirstValue()},getSecondValue:function(){return a.getSecondValue()},addControlPanel:function(){return(i=new N({selector:e,slider:u,model:a,view:l})).init(),i},JQSlider:function(e,t){switch(e){case"getContainer":return this.getContainer();case"getOptions":return this.getOptions();case"setOptions":return this.setOptions(t);case"getFirstValue":return this.getFirstValue();case"getSecondValue":return this.getSecondValue();case"addControlPanel":return this.addControlPanel();default:return null}}});return u}},3336:function(e){e.exports=$}},function(e){e(e.s=9735)}]);