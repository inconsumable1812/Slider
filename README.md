## Слайдер
Демо-страница https://inconsumable1812.github.io/Slider/

## Используемые версии

Версия node `14.17.3`

Версия npm `6.14.13`

## Клонирование репозитория

`git clone https://github.com/inconsumable1812/Slider.git new_name`

И открытие в терминале

`cd new_name`

## Команды проекта

Установка зависимостей для сборки проекта

`npm i`

Запускает локальный сервер с результатом development cборки. Не сохраняет результат в файловой системе. Запускает браузер по умолчанию (если он не запущен), создает вкладку с адресом http://localhost:3000/ и переходит к ней

`npm start`

Запускает сборку проекта в режиме production. Сохраняет результат в папке dist

`npm run build`

Запуск тестов Jest

`npm test`

Команда для показа покрытия тестов

`npm run test-cov`

Запуск ESlint и проверка кода

`npm run lint`

## Использование плагина

Слайдер автоматически проинициализируется на элементах с классом "super-slider-here", при этом опции можно передать через data атрибуты.

```
<div class="super-slider-here" data-min-value="5" data-is-vertical="true"></div>
```

Ручная инициализация
```
const $slider = $('#app').JQSlider()
```

Инициализация с заданием необходимых параметров:

```
const $slider = $(#app).JQSlider({
  minValue: 30,
  maxValue: 80,
  step: 2,
  isVertical: true,
})
```

Список всех возможных параметров:

| Параметр        | Тип     | Значение по умолчанию | Описание                                                      |
| --------------- | ------- | --------------------- | ------------------------------------------------------------- |
| minValue        | number  | 0                     | Минимальное значение слайдера                                 |
| maxValue        | number  | 100                   | Максимальное значение слайдера                                |
| step            | number  | 1                     | Шаг значений                                                  |
| valueStart      | number  | 40                    | Значение первого ползунка                                     |
| valueEnd        | number  | 50                    | Значение второго ползунка                                     |
| range           | boolean | false                 | Показывает/скрывает второй ползунок                           |
| scalePointCount | number  | 11                    | Количество меток под слайдером                                |
| showTooltip     | boolean | true                  | Показывает/скрывает элемент на ползунком                      |
| isVertical      | boolean | false                 | Определяет направление слайдера (горизонтальное/вертикальное) |
| showProgress    | boolean | false                 | Показывает/скрывает шкалу прогресса                           |
| showScale       | boolean | true                  | Показывает/скрывает метки под слайдером                       |

## API плагина

После инициализации плагина можно использовать несколько методов для взаимодействия с ним. Для этого необходимо вместо опций передать в слайдер название метода первым аргументом, а параметры - после него.

- setOptions(options: sliderOptions): void

Позволяет обновить настройки слайдера

```

$slider.JQSlider('setOptions', {
 { minValue: 5 }    // Изменяет минимальное значение
})

```

- getOptions(): sliderOptions

Позволяет узнать настройки слайдера

```
$slider.JQSlider('getOptions')
```

- getContainer(): HTMLElement

Позволяет узнать родительский элемент слайдера

```
$slider.JQSlider('getContainer')
```

- getFirstValue(): number

Позволяет узнать значение первого ползунка

```
$slider.JQSlider('getFirstValue')
```

- getSecondValue(): number

Позволяет узнать значение второго ползунка

```
$slider.JQSlider('getSecondValue')
```

- getSlider(): Slider

Позволяет получить объект слайдера

```
$slider.JQSlider('getSlider')
```

## Архитектура приложения

![UML диаграмма](/UML.svg)

Слайдер разделён на слои `Model`, `View` и `Presenter`. Для уменьшения связанности `Presenter` подписан на обновления `View` и `Model` с помощью шаблона "Observer". При изменении значений и настроек `Presenter` получает оповещение и вызывает соответствующие методы `Model` и `View`. `Model` ничего не знает о `View`, который знает о её настройках и значениях ползунков, но не может напрямую обратиться к её методам. `View` помимо основного класса имеет дочерние:

- `Track` - дорожка по которой ходят ползунки;
- `Handle` - для каждого ползунка;
- `Progress` - подсветка дорожки от минимума трека до ползунка (для одного ползунка) или между ползунками (для двух ползунков) - опционально;
- `Scale` - шкала значений - опционально;

Для наглядного изменения настроек слайдер оснащён панелью управления `Panel`, которая общается со слайдером через его API.
